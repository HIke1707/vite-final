import{a as g}from"./axios-G2rPRu76.js";import{u as E}from"./toastMessage-WMMOl8bO.js";import{u as L}from"./loveStores-MEg0Zt6c.js";import{_ as S}from"./PaginationVue-rctQ98he.js";import{e as r,m as T,q as M,g as j,o as a,a as n,b as s,F as u,r as b,h as f,t as i,w as B,j as U}from"./index-1KU6goa1.js";const V={class:"navbar navbar-expand-lg navbar-light justify-content-center border border-start-0 border-end-0 border-top border-bottom"},F={class:"navbar-nav flex-row overflow-auto navbar-custom-scroll"},I=["onClick"],q={class:"container mt-md-5 mt-3 mb-7"},D={class:"row"},O={class:"card border-0 mb-4 position-relative position-relative"},z=["src"],A=["onClick"],G={key:0,class:"far fa-heart"},H={key:1,class:"far fa-heart fa-solid text-danger"},J={class:"card-body p-0"},K={class:"mb-0 mt-3"},Q={class:"mt-3",style:{color:"#c83030"}},R={style:{"padding-left":"5px"}},et={__name:"UserProducts",setup(W){const _="https://ec-course-api.hexschool.io/v2",v="yangapi",y=E(),{pushMessage:h}=y,x=L(),{toggleLove:k,loveProducts:$}=x,w=r(["所有商品","盒玩","模型","寶可夢 (Pokémon.)","航海王(ONE PIECE)","蠟筆小新"]),l=r([]),c=r(""),d=r({});T(async()=>{m()});const m=async(e=1)=>{await g.get(`${_}/api/${v}/products?category=${c.value}&page=${e}`).then(o=>{l.value=o.data.products,d.value=o.data.pagination,h({style:"success",title:"系統訊息",content:`取得商品分類:${c.value===""?"所有商品":c.value}`})})},C=e=>{k(e)},P=e=>$.some(p=>p===e);return M(c,async e=>{await g.get(`${_}/api/${v}/products?category=${e}`).then(o=>{l.value=o.data.products,d.value=o.data.pagination,h({style:"success",title:"系統訊息",content:`取得商品分類:${e===""?"所有商品":e}`})})}),(e,o)=>{const p=j("router-link");return a(),n(u,null,[s("nav",V,[s("div",F,[(a(!0),n(u,null,b(w.value,t=>(a(),n("a",{key:t,class:"nav-item nav-link text-nowrap px-2",onClick:N=>c.value=t==="所有商品"?"":t},i(t),9,I))),128))])]),s("div",q,[s("div",D,[(a(!0),n(u,null,b(l.value,t=>(a(),n("div",{class:"col-md-3",key:t.id},[s("div",O,[s("img",{src:t.imageUrl,class:"card-img-top rounded-0",alt:"...",style:{width:"300px",height:"300px","object-fit":"cover"}},null,8,z),s("button",{type:"button",class:"btn btn-light rounded-circle favIcon position-absolute shadow-sm",onClick:N=>C(t),style:{top:"5px",right:"10px"}},[P(t.id)?(a(),n("i",H)):(a(),n("i",G))],8,A),s("div",J,[s("h6",K,[f(p,{to:"/productsdetail/"+t.id},{default:B(()=>[U(i(t.title),1)]),_:2},1032,["to"])]),s("span",Q,"NT$"+i(t.price),1),s("del",R," NT$"+i(t.origin_price),1)])])]))),128))]),f(S,{pages:d.value,onEmitPages:m},null,8,["pages"])])],64)}}};export{et as default};
