import{e as p,m as T,g as D,o as _,a as h,b as t,h as w,w as f,j as c,t as n,s as P,v as S,F as j,r as B}from"./index-1KU6goa1.js";import{a as m}from"./axios-G2rPRu76.js";import{u as E}from"./toastMessage-WMMOl8bO.js";import{u as L}from"./cartStores-5ANyj1GH.js";const U={class:"container"},V={class:"row align-items-start my-3 text-start"},q={class:"tw-drop-shadow-main -tw-mt-24 tw-mb-4 tw-text-white"},H={class:"row align-items-center"},F={class:"col-md-7"},J={id:"carouselExampleControls",class:"carousel slide","data-ride":"carousel"},O={class:"carousel-inner"},Q={class:"carousel-item active"},R=["src"],W=t("div",{class:"carousel-item"},[t("img",{src:"https://images.unsplash.com/photo-1502743780242-f10d2ce370f3?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1916&q=80",class:"d-block w-100",alt:"..."})],-1),A=t("div",{class:"carousel-item"},[t("img",{src:"https://images.unsplash.com/photo-1502743780242-f10d2ce370f3?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1916&q=80",class:"d-block w-100",alt:"..."})],-1),z=t("a",{class:"carousel-control-prev",role:"button","data-slide":"prev"},[t("span",{class:"carousel-control-prev-icon","aria-hidden":"true"}),t("span",{class:"sr-only"},"Previous")],-1),G=t("a",{class:"carousel-control-next",role:"button","data-slide":"next"},[t("span",{class:"carousel-control-next-icon","aria-hidden":"true"}),t("span",{class:"sr-only"},"Next")],-1),I={class:"col-md-5"},K={class:"fw-bold h1 mb-1"},X={class:"mb-0 text-muted text-start"},Y={class:"mb-0 text-muted text-end"},Z={class:"h4 fw-bold text-end"},tt={class:"row align-items-center"},st={class:"col-6"},ot={class:"input-group my-3 bg-light rounded"},et={class:"input-group-prepend"},at=t("i",{class:"fas fa-minus"},null,-1),lt=[at],nt={class:"input-group-append"},it=t("i",{class:"fas fa-plus"},null,-1),ct=[it],dt={class:"col-6"},rt=t("div",{class:"row my-5"},[t("div",{class:"col-12",style:{"text-align":"left"}},[t("h4",null,"購買說明"),t("p",null,"1.預購商品下單後即完成訂購程序，預購商品已過結單日/即將到貨，皆無法取消訂單。僅於預購結單日前或發生商品缺貨/斷貨狀況下，可視情形取消訂單。"),t("p",null,"2.預購商品為客製化訂單，結單後不接受因瑕疵/商品損壞以外之個人因素退貨，如:不喜歡/與想像中不符/經濟短缺/尺寸不符等,皆不受理。"),t("p",null,"3.預購商品圖檔僅供參考，與實際商品有些微不同之可能，最終以商品實際現況為主，不得以商品細節不同而取消訂單、退款及退換貨。"),t("p",null,"4.預購商品如有細節修改情況，以廠商實際出貨商品為主，本公司將不另作通知。"),t("p",null,"5.商品預計到貨日期僅為預估，實際到貨日期涉及諸多因素，可能與預估到貨日期不同，訂購人無法以延遲到貨為由取消訂單、退款及退換貨。如對延遲到貨的情況有疑問，歡迎使用客服系統查詢。")])],-1),ut={class:"row my-5"},pt=t("div",{class:"col-12 mb-3",style:{"text-align":"left"}},[t("h6",null,"其他人也看過")],-1),_t={class:"row"},ht={class:"card border-1 mb-4 position-relative position-relative",style:{height:"52vh"}},mt=["src"],vt={class:"card-body p-0 mx-2"},bt={class:"mb-0 mt-3"},gt={class:"mt-3 ms-3",style:{color:"#c83030"}},yt=["onClick"],$t={__name:"ProductDetail",props:["id"],setup(x){const k=E(),{pushMessage:v}=k,$=L(),{getCart:C}=$,r="https://ec-course-api.hexschool.io/v2",u="yangapi",M=x,e=p({}),l=p(1),b=p([]),g=a=>{if(l.value<=1&&a==="-")return!1;l.value=a==="+"?l.value+1:l.value-1},y=(a,o)=>{const d=`${r}/api/${u}/cart`,s={product_id:a,qty:o??l.value};m.post(d,{data:s}).then(async i=>{await C(),v({style:"success",title:"系統訊息",content:"商品加入購物車成功"})}).catch(i=>{v({style:"error",title:"發生錯誤",content:i.response.data.message})})},N=async()=>{await m.get(`${r}/api/${u}/products?category=${e.value.category}&page=1`).then(a=>{b.value=a.data.products})};return T(async()=>{await m.get(`${r}/api/${u}/product/${M.id}`).then(a=>{e.value=a.data.product}),await N()}),(a,o)=>{const d=D("RouterLink");return _(),h("div",U,[t("div",V,[t("div",q,[w(d,{to:"/",class:"router-link-active tw-font-bold"},{default:f(()=>[c("Home")]),_:1}),c(" / "),w(d,{to:"/products",class:"tw-font-bold"},{default:f(()=>[c("Product List")]),_:1}),c(" / "),t("span",null,n(e.value.title),1)])]),t("div",H,[t("div",F,[t("div",J,[t("div",O,[t("div",Q,[t("img",{src:e.value.imageUrl,class:"d-block w-100",style:{height:"360px","object-fit":"contain"},alt:"..."},null,8,R)]),W,A]),z,G])]),t("div",I,[t("h2",K,n(e.value.title),1),t("p",X,n(e.value.description),1),t("p",Y,[t("del",null,"NT$"+n(e.value.origin_price),1)]),t("p",Z,"NT$"+n(e.value.price),1),t("div",tt,[t("div",st,[t("div",ot,[t("div",et,[t("button",{onClick:o[0]||(o[0]=s=>g("-")),class:"btn btn-outline-dark border-0 py-2",type:"button",id:"button-addon1"},lt)]),P(t("input",{type:"text",class:"form-control border-0 text-center my-auto shadow-none bg-light",placeholder:"","aria-label":"Example text with button addon","aria-describedby":"button-addon1","onUpdate:modelValue":o[1]||(o[1]=s=>l.value=s)},null,512),[[S,l.value]]),t("div",nt,[t("button",{onClick:o[2]||(o[2]=s=>g("+")),class:"btn btn-outline-dark border-0 py-2",type:"button",id:"button-addon2"},ct)])])]),t("div",dt,[t("a",{onClick:o[3]||(o[3]=s=>y(e.value.id)),class:"text-nowrap btn btn-dark w-100 py-2"},"加入購物車")])])])]),rt,t("div",ut,[pt,t("div",_t,[(_(!0),h(j,null,B(b.value.filter((s,i)=>i<=2),s=>(_(),h("div",{class:"col-md-3",key:s.id},[t("div",ht,[t("img",{src:s.imageUrl,class:"card-img-top rounded-0 m-1",alt:"...",style:{width:"97%",height:"250px","object-fit":"contain"}},null,8,mt),t("div",vt,[t("h6",bt,[c(n(s.title)+" ",1),t("span",gt,"NT$"+n(s.price),1)]),t("a",{onClick:i=>y(s.id,1),class:"text-nowrap btn btn-outline-warning w-75 m-3"},"加入購物車",8,yt)])])]))),128))])])])}}};export{$t as default};
